<!DOCTYPE html>
<html lang="en">

<head>
  <!-- Required meta tags -->
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">

  <!-- Bootstrap JS -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-A3rJD856KowSb7dwlZdYEkO39Gagi7vIsF0jrRAoQmDKKtQBHUuLZ9AsSv4jD4Xa"
    crossorigin="anonymous"></script>

  <!-- Handlebars -->
  <script src="https://cdn.jsdelivr.net/npm/handlebars@latest/dist/handlebars.js"></script>

  <title>Universal validator</title>
</head>

<body>
  <!-- navbar -->
  <div class="container">
    <!-- container -->
    <header class="d-flex flex-wrap justify-content-center py-3 mb-4 border-bottom">
      <a href="/" class="d-flex align-items-center mb-3 mb-md-0 me-md-auto text-dark text-decoration-none">
        <img src="/static/img/eido.svg" alt="eido" width="180" height="45">
        <span class="fs-4">Universal web validator</span>
      </a>

      <ul class="nav nav-pills">
        <li class="nav-item"><a href="#" class="nav-link">Home</a></li>
        <li class="nav-item"><a href="https://eido.databio.org" class="nav-link">Eido documentation</a></li>
        <li class="nav-item"><a href="#" class="nav-link">PEP documentation</a></li>

      </ul>
    </header>
  </div>

  <!-- body -->
  <div class="container">
    <p>This tool will validate your sample metadata against one or more schemas. Drag and drop all parts of your PEP
      here. This includes metadata only, which is the config YAML file, any sample or subsample table CSV files, etc.
      Then, click "Validate".</p>

    <p>
      <strong>Here is a list of schema-generated validators that is currently available for use:</strong><br>
      <a href="https://pephub.databio.org/eido/schema/bulker/cdid.yaml">bulker/cdid</a><br>
      <a href="https://pephub.databio.org/eido/schema/bulker/cmdlist.yaml">bulker/cmdlist</a><br>
      <a href="https://pephub.databio.org/eido/schema/bulker/importlist.yaml">bulker/importlist</a><br>
      <a href="https://pephub.databio.org/eido/schema/bulker/manifest.yaml">bulker/manifest</a><br>
      <a href="https://pephub.databio.org/eido/schema/bulker/pep/2.0.0.yaml">pep/2.0.0</a><br>
      <a href="https://pephub.databio.org/eido/schema/bulker/pep/2.1.0.yaml">pep/2.1.0</a><br>
      <a href="https://pephub.databio.org/eido/schema/pipelines/ProseqPEP.yaml">pipelines/ProseqPEP</a><br>
      <a href="https://pephub.databio.org/eido/schema/pipelines/bedbuncher.yaml">pipelines/bedbuncher</a><br>
      <a href="https://pephub.databio.org/eido/schema/pipelines/bedmaker.yaml">pipelines/bedmaker</a><br>
      <a href="https://pephub.databio.org/eido/schema/pipelines/bedstat.yaml">pipelines/bedstat</a><br>
      <a href="https://pephub.databio.org/eido/schema/pipelines/pepatac.yaml">pipelines/pepatac</a><br>
      <a
        href="https://pephub.databio.org/eido/schema/pipelines/pipeline_interface.yaml">pipelines/pipeline_interface</a><br>
      <a href="https://pephub.databio.org/eido/schema/refgenie/refgenie_build.yaml">refgenie/refgenie_build</a><br>
      <a href="https://pephub.databio.org/eido/schema/refget/ACDList.yaml">refget/ACDList</a><br>
      <a href="https://pephub.databio.org/eido/schema/refget/ASDList.yaml">refget/ASDList</a><br>
      <a
        href="https://pephub.databio.org/eido/schema/refget/ AnnotatedArrayedSequenceCollection.yaml ">refget/AnnotatedArrayedSequenceCollection</a><br>
      <a
        href="https://pephub.databio.org/eido/schema/refget/AnnotatedSequenceList.yaml">refget/AnnotatedSequenceList</a><br>
      <a
        href="https://pephub.databio.org/eido/schema/refget/ArrayedNestedSequenceCollection.yaml">refget/ArrayedNestedSequenceCollection</a><br>
      <a
        href="https://pephub.databio.org/eido/schema/refget/ArrayedSequenceCollection.yaml">refget/ArrayedSequenceCollection</a><br>
      <a
        href="https://pephub.databio.org/eido/schema/refget/CustomAnnotatedArrayedSequenceCollection.yaml">refget/CustomAnnotatedArrayedSequenceCollection</a><br>
      <a href="https://pephub.databio.org/eido/schema/refget/RawSeqCol.yaml">refget/RawSeqCol</a><br>
      <a href="https://pephub.databio.org/eido/schema/refget/SeqColArraySet.yaml">refget/SeqColArraySet</a><br>
      <a href="https://pephub.databio.org/eido/schema/refget/TASeqCol.yaml">refget/TASeqCol</a><br>
      <a href="https://pephub.databio.org/eido/schema/refget/annotated_collection_digest.yaml">refget/annotated_collection_digest.yaml
      </a><br>
      <a href="https://pephub.databio.org/eido/schema/refget/annotated_sequence_digest.yaml">refget/annotated_sequence_digest.yaml
      </a><br>
      <a href="https://pephub.databio.org/eido/schema/refget/sequence.yaml">refget/sequence.yaml </a><br>


    </p>

    <form action="/validate/test" enctype="multipart/form-data" method="post">
      <div class="row">
        <div class="col">
          <div class="card mt-3">
            <ul class="card-header nav nav-pills" id="pills-tab" role="tablist">
              <li class="nav-item" role="presentation">
                <button class="nav-link active" id="pills-pep-tab" data-bs-toggle="pill" data-bs-target="#pills-pep"
                  type="button" role="tab" aria-controls="pills-pep" aria-selected="true">Single PEP</button>
              </li>
              <li class="nav-item" role="presentation">
                <button class="nav-link" id="pills-mpep-tab" data-bs-toggle="pill" data-bs-target="#pills-mpep"
                  type="button" role="tab" aria-controls="pills-mpep" aria-selected="false">Multiple PEPs</button>
              </li>
            </ul>
            <div class="tab-content card-body" id="pills-tabContent">
              <div class="tab-pane fade show active" id="pills-pep" role="tabpanel" aria-labelledby="pills-pep-tab">
                <p>You can upload a single PEP here.</p>
                <input type="file" name="pep" class="form-control mb-3" multiple>
                <p>Or you can provide a registry path.</p>
                <input type="text" name="pep" class="form-control">
              </div>
              <div class="tab-pane fade" id="pills-mpep" role="tabpanel" aria-labelledby="pills-mpep-tab">
                <p>You can upload multiple PEPs here.</p>
                <input type="file" class="form-control mb-3" name="pep" multiple>
                <div>
                  <p>Or you can provide a registry path.</p>
                  <input type="text" name="pep" class="form-control">
                </div>
              </div>
            </div>
          </div>
        </div>

        <div class="col">
          <div class="card mt-3">
            <ul class="card-header nav nav-pills" id="pills-tab" role="tablist">
              <li class="nav-item" role="presentation">
                <button class="nav-link active" id="pills-schema-tab" data-bs-toggle="pill"
                  data-bs-target="#pills-schema" type="button" role="tab" aria-controls="pills-schema"
                  aria-selected="true">Single Schema</button>
              </li>
              <li class="nav-item" role="presentation">
                <button class="nav-link" id="pills-mschema-tab" data-bs-toggle="pill" data-bs-target="#pills-mschema"
                  type="button" role="tab" aria-controls="pills-mschema" aria-selected="false">Multiple Schemas</button>
              </li>
            </ul>
            <div class="tab-content card-body" id="pills-tabContent">
              <div class="tab-pane fade show active" id="pills-schema" role="tabpanel"
                aria-labelledby="pills-schema-tab">
                <p>You can upload a single schema here.</p>
                <input name="schema" class="form-control mb-3" type="file" multiple>
                <p>Or you can provide a registry path to your schemas.</p>
                <input name="schema" class="form-control mb-3" type="text">
                <input class="input-group-text" type="submit" value="Validate" value="Validate">
              </div>
              <div class="tab-pane fade" id="pills-mschema" role="tabpanel" aria-labelledby="pills-mschema-tab">
                <p>You can upload multiple schemas here.</p>
                <!-- <form class="mb-3" enctype="multipart/form-data" method="post" onsubmit="validate(event, this);"
                  action="/validate/multiple"> -->
                <input name="schema" class="form-control mb-3" type="file" multiple>
                <p>Or you can provide a registry path to your schemas.</p>
                <input name="schema" class="form-control mb-3" type="text">
                <input class="input-group-text" type="submit" value="Validate" value="Validate">
              </div>
            </div>
          </div>
        </div>
      </div>
    </form>

    <!-- form upload -->
    <!-- <form enctype="multipart/form-data" method="post" onsubmit="validate(event, this);" action="#">
      <div class="card mt-3">
        <h5 class="card-header">File Upload</h5>
        <div class="card-body">
          <div class="row">
            <div class="col">
              <input name="files" type="file" multiple>
            </div>
            <div class="col">
              <input type="submit" value="Validate" id="vbutton">
            </div>
          </div>
        </div>
      </div>
    </form> -->


    <!-- results -->
    <div class="card mt-3 mb-3">
      <h5 class="card-header">Results</h5>
      <div class="card-body" id="results">
        No results to display.
      </div>
    </div>


    <!-- footer -->
    <p class="mb-0 text-muted">Want API access? This tool is a static, client-hosted form that accesses an API
      validator service based on <a href="https://peppy.databio.org">peppy</a>. You can also access this service
      programatically if you want to validate sample metadata as part of a pipeline or other tool.</p>
</body>

<footer class="d-flex flex-wrap justify-content-between align-items-center py-3 my-4 border-top">
  <div class="ms-auto">
    <a href="https://databio.org"><img src="https://databio.org/images/logo/logo_databio_long.svg"
        alt="Sheffield Computational Biology Lab" width="200" </a>
  </div>
</footer>
</div> <!-- container -->

</html>