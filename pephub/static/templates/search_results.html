{% if namespace_hits|length == 0 and results|length == 0 %}
  <div class="w-100 mt-5">
    <h4 class="text-center w-100 text-secondary mb-2">
      <em>No results found :( </em>
    </h4>
    <h5 class="fw-normal text-center w-100 text-secondary">
      Consider lowering your score threshold or supplying a more specific query.
    </h5>
  </div>
{% else %}
<!-- Commented out since it can be confusing -->
<!-- <div>
  Found {{namespace_hits|length + results|length}} results for "{{query}}"
</div> -->
  {% if namespace_hits|length > 0 %}
    <!-- namespace search results -->
    <h3 class="text-start w-100 fw-bold">Namespaces</h3>
    {% for namespace in namespace_hits %}
      <div class="w-100 border-top border-secondary p-2">
        <i class="bi bi-person-circle me-2 text-secondary"></i>
        <a class="fw-bold text-start fs-5" href="/{{namespace}}">
          {{namespace}}
        </a>
      </div>
    {% endfor %}
  {% endif %}
  {% if results|length > 0 %}
    <div class="my-2 border-bottom border-secondary"></div>
    <!-- Project search results -->
    <div class="d-flex flex-row align-items-center justify-content-between w-100">
      <h3 class="text-start w-100 fw-bold">Projects</h3>
    </div>
    {% for result in results %}
      <div id="project-result-{{result['payload']['registry']}}" class="w-100 border-top border-secondary py-3 mb-2">
          <div class="d-flex flex-row align-items-start justify-content-between">
            <div class="d-flex flex-row align-items-center">
              <i class="bi bi-table me-2 text-secondary"></i>
              <a class="fw-bold fs-5" href="/{{result.payload.namespace}}/{{result.payload.name}}?tag={{result.payload.tag}}">
                {{ result.payload.namespace }}/{{ result.payload.name }}:{{result.payload.tag}}
              </a>
            </div>
            {% if result.score %}
              <div class="progress w-25" style="height: 15px">
                <div 
                  class="progress-bar bg-success"
                  role="progressbar"                  
                  style="width: {{(result.score * 100)|round(2, 'floor')}}%"
                  aria-valuenow="{{(result.score * 100)|round(2, 'floor')}}"
                  aria-valuemin="0"
                  aria-valuemax="100"
                >
                  {{(result.score * 100)|round(2, 'floor') }}%
                </div>
              </div>
  
            {% endif %}
          </div>
            <div>
              <p class="mt-2 mb-0 text-truncate text-secondary">
                  <em>{{result.payload.description}}</em>
              </p>
            </div>
      </div>
    {% endfor%}
  {% endif %}
  <!-- Pagination -->
  <div>
    {% if offset == 0 %}
      <button class="btn btn-link" disabled>
        <i class="bi bi-arrow-left"></i>
        Previous
      </button>
    {% else %}
      <button onclick="pageLeft()" class="btn btn-link">
        <i class="bi bi-arrow-left"></i>
        Previous
      </button>
    {% endif %}
    {% if results|length < limit %}
      <button class="btn btn-link" disabled>
        Next 
        <i class="bi bi-arrow-right"></i>
      </button>
    {% else %}
      <button onclick="pageRight()" class="btn btn-link">
        Next 
        <i class="bi bi-arrow-right"></i>
      </button>
    {% endif %}
    <div class="d-flex flex-column align-items-center justify-content-center">
      <div class="text-muted">
        Limit: {{ limit }} | Offset: {{ offset }}
      </div>
      {% if limit !=0 and offset == 0 %}
        <button class="btn btn-link" disabled>
          Reset
        </button>
      {% else %}
        <button class="btn btn-link" onclick="pageReset()">
          Reset
        </button>
      {% endif %}
    </div>
    
  </div>
{% endif %}
<!-- Need an "update and run" feature for the pagination -->
<script>

</script>