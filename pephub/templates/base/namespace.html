{% extends "base.html" %}
{% block content %}
<div>
    <h1>Available projects in {{namespace.name}}:</h1>
    <p>This namespace has {{namespace.projects|length}} total projects. You can view the information about all namespaces using the API endpoint or by navigating the table below:</p>
    <p><code class="fs-4"><a href="/pep/{{namespace.name}}/"><span class="badge bg-primary">GET</span> /pep/{{namespace.name}}/</a></code></p>
    <div class="my-1 border-bottom border-secondary"></div>
    <table class="table table-sm table-striped" id="namespace-table">
      <thead>
        <tr>
          <th>Project</th>
          <th>No. of Samples</th>
          <th>API Endpoint</th>
        </tr>
      </thead>
      <tbody>
        {% for proj in namespace.projects %}
        {% set project = namespace.projects[proj] %}
        <tr>
          <td><a href="/pep/{{namespace.name}}/{{project.name}}/view">{{project.name}}</a></td>
          <td>{{project._info.n_samples}}</td>
          <td>
            <code><a href="/pep/{{namespace.name}}/{{project.name}}"><span class="badge bg-primary">GET</span> /pep/{{namespace.name}}/{{project.name}}</a></code>
          </td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
</div>
  <!-- DataTabes-->
  <script src="https://cdn.jsdelivr.net/npm/simple-datatables@latest"></script>
  <!--assign to table -->
  <script>
        const table = new simpleDatatables.DataTable("#namespace-table")
  </script>
{% endblock %}