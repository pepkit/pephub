{% extends "base.html" %}
{% block content %}
  <div>
    <h1>PEPhub API</h1>
    <p id="welcome" class="text-justify">
    Welcome to the PEPhub API. This server provides consumable sample tables through the <a href="https://github.com/pepkit/pephub">the PEPhub API for PEP sample metadata sharing</a>. This server contains PEPs for {{ namespaces|length }} namespaces listed below:</p>
    <div class="border-bottom border-secondary my-1"></div> 
    <table class="table table-sm table-striped">
      <thead>
        <tr>
          <td>Namespace</td>
          <td>No. of Projects</td>
          <td>No. of Samples</td>
          <td>API Endpoint</td>
        </tr>
      </thead>
      <tbody>
        {% for namespace in namespaces %}
          <tr>
            <td><a href="/pep/{{namespace.name}}/view">{{ namespace.name }}</a></td>
            <td>{{ namespace.info.n_projects }}</td>
            <td>{{ namespace.info.n_samples }}</td>
            <td>
              <code><a href="/pep/{{namespace.name}}"><span class="badge bg-primary">GET</span> /pep/{{namespace.name}}/</a></code>
            </td>
          </tr>
        {% endfor %}
      </tbody>
    </table>
    <div class="border-bottom border-secondary my-1"></div>
    <h2>Validation endpoints</h2>

    In addition to serving metadata, PEPhub also provides a validation service. You can provide  `<namespace>/<projectid>` and identify relevant schemas that this metadata satisfies. You can also `POST` your own PEP to the service to validate it. You can learn more about this at the <a href="/eido/validator/index.html">/eido/validator/index.html</a> and in the API docs.
  </div>
{% endblock %}